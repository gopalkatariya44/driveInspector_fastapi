{% extends "core/base.html" %}
{% block title %}Add | Drive Inspector{% endblock %}
{% block head %}
{{ super() }}
{% endblock %}
{% block content %}
{% include 'core/navbar.html' %}
<div class="container pb-5">
    <a href="/"> Home </a>/
    <a href="/add"> Add Feed </a>
</div>
<div class="container">
    <div class="row justify-content-center align-items-center">
        <div class="col-md-5">
            <div class="card">
                <div class="card-header">
                    Update Details
                </div>
                <div class="card-body">
                    <form method="post" action="/add" enctype="multipart/form-data">
                        <label class="my-1 mr-2" for="inlineFormCustomSelectPref">Media Type</label>
                          <select class="custom-select my-1 mr-sm-2" id="inlineFormCustomSelectPref"
                                  name="media_type" onchange="toggleInput()">
                            <option value="1">Video</option>
                            <option value="2">RTSP</option>
                          </select>
                        <br>
                        <br>
                          <div class="form-group" id="videoFileInput">
                            <input type="file" class="form-control-file" name="video_file">
                          </div>
                            <div class="form-group" id="rtspTextInput" style="display: none;">
                                 <label class="my-1 mr-2" for="inlineFormCustomSelectPref">RTSP URL</label>
                                <input type="text" class="form-control" name="rtsp_url" placeholder="Enter RTSP URL">
                            </div>
                        <button type="submit" class="btn btn-primary">Add</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
function toggleInput() {
    var mediaType = document.getElementById("inlineFormCustomSelectPref").value;
    var videoFileInput = document.getElementById("videoFileInput");
    var rtspTextInput = document.getElementById("rtspTextInput");

    if (mediaType == 1) {
        videoFileInput.style.display = "block";
        rtspTextInput.style.display = "none";
    } else {
        videoFileInput.style.display = "none";
        rtspTextInput.style.display = "block";
    }
}
</script>
{% endblock %}